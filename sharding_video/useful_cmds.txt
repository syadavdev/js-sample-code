Postgres sharding with docker :
docker build -t pgshard .

docker run -d --name shard1 -p 5432:5432 -e POSTGRES_PASSWORD=postgres pgshard
docker run -d --name shard2 -p 5433:5432 -e POSTGRES_PASSWORD=postgres pgshard
docker run -d --name shard3 -p 5434:5432 -e POSTGRES_PASSWORD=postgres pgshard

docker run -d -e PGADMIN_DEFAULT_EMAIL="sandi@gmail.com" -e PGADMIN_DEFAULT_PASSWORD="sandi" -p 5555:80 --name pgadmin dpage/pgadmin4'


Docker postgres shard IP problem :
docker inspect <continer-name>
And copy the network-bridge-IPAddress

Javascript for chrome console for connection pooling :
let urls = []
for (let i = 0 ; i < 100; i++) urls.push(`https://google.co.in?q=text${i}`)
urls.forEach(u => fetch(`http://localhost:8081/?url=${u}`, {"method" : "POST"}).then(a=>a.json()).then(console.log));


Docker with volume(for replication) :
docker run --name pmaster -p 5432:5432 -v C:\Users\sandi\Documents\sandeep-github\replication\pmaster_data:/var/lib/postgresql/data -e POSTGRES_PASSWORD=postgres -d postgres:13
docker run --name pstandby -p 5433:5432 -v C:\Users\sandi\Documents\sandeep-github\replication\pstandby_data:/var/lib/postgresql/data -e POSTGRES_PASSWORD=postgres -d postgres:13

Postgres login cmd :
psql -U postgres

Declare cursor :
declare c cursor for <sql cmd>;
fetch c;
fetch last c;
